(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(9),n=c.n(s),r=c(5),i=c(10),o=c(4),l=c(8),j=c.n(l),m=c(1);var d=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),r=Object(o.a)(n,2),l=r[0],d=r[1],h=JSON.parse(sessionStorage.getItem("itemsKey"))||[],u=JSON.parse(sessionStorage.getItem("cartItemKey"))||[];Object(a.useEffect)((function(){fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){return d(e)}))}),[]);var p=function(){var e=Object(i.a)(j.a.mark((function e(t){var a,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a="all"===c?"https://fakestoreapi.com/products":"https://fakestoreapi.com/products/category/".concat(c),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,d(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),alert("Item not found");case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();function b(e){u.push([e.target.parentNode.childNodes[0].src,e.target.parentNode.childNodes[1].innerHTML,e.target.parentNode.childNodes[2].innerHTML]),sessionStorage.setItem("cartItemKey",JSON.stringify(u)),alert("".concat(e.target.parentNode.childNodes[1].innerHTML," has been added to your cart.")),window.location.reload()}return l&&(h.splice(0,1,l),sessionStorage.setItem("itemsKey",JSON.stringify(h))),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"form-container",children:Object(m.jsxs)("form",{name:"myForm",className:"search-form",onSubmit:p,children:[Object(m.jsxs)("select",{placeholder:"Search here...",className:"searchInput",value:c,onChange:function(e){return s(e.target.value)},children:[Object(m.jsx)("option",{value:"all",children:"All"}),Object(m.jsx)("option",{value:"men's clothing",children:"Men's Clothing"}),Object(m.jsx)("option",{value:"women's clothing",children:"Women's Clothing"}),Object(m.jsx)("option",{value:"jewelery",children:"Jewelery"}),Object(m.jsx)("option",{value:"electronics",children:"Electronics"})]}),Object(m.jsx)("button",{className:"searchBtn",type:"submit",children:"Search"})]})}),Object(m.jsx)("div",{className:"resultDisplay",children:h[0]?h[0].map((function(e){return Object(m.jsx)("div",{className:"itemCard",children:Object(m.jsxs)("div",{className:"itemInfo",children:[Object(m.jsx)("img",{className:"itemImg",src:e.image,alt:"Item"}),Object(m.jsx)("p",{className:"itemName",children:e.title}),Object(m.jsxs)("p",{className:"itemPrice",children:["$",e.price%1===0?e.price+".00":e.price]}),Object(m.jsx)("button",{className:"cartBtn",onClick:b,children:"Add to Cart"})]})},e.id)})):Object(m.jsx)("div",{className:"loading",children:"Loading..."})})]})},h=c.p+"static/media/cart-svgrepo-com.da34efe8.svg";for(var u=function(){return Object(m.jsxs)("div",{className:"header-container",children:[Object(m.jsx)(r.b,{to:"/",style:{textDecoration:"none"},children:Object(m.jsx)("h6",{className:"logo",children:"Merkato Boutique"})}),Object(m.jsx)(r.b,{to:"/cart",children:Object(m.jsx)("img",{className:"cart",src:h,alt:"cart"})})]})},p=JSON.parse(sessionStorage.getItem("cartItemKey"))||[],b=0,O=0;O<p.length;O++){var x=p[O][2].slice(1),f=parseFloat(x);b+=f}function N(e){var t=e.target.parentNode.childNodes[1].innerHTML;p.map((function(e){if(t===e[1]){var c=p.indexOf(e);p.splice(c,1),sessionStorage.setItem("cartItemKey",JSON.stringify(p)),alert("".concat(e[1]," has been deleted from your cart.")),window.location.reload()}return Object(m.jsx)("h1",{children:null})}))}function g(){p.length>0?(p.length=0,sessionStorage.setItem("cartItemKey",JSON.stringify(p)),alert("All of your items have been payed for."),window.location.reload()):alert("You have 0 items in your cart.")}var v=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"cart-container",children:p[0]?p.map((function(e){return Object(m.jsxs)("div",{className:"cart-item",children:[Object(m.jsx)("img",{className:"itemImg",src:e[0],alt:"Item"}),Object(m.jsx)("p",{className:"itemCartName",children:e[1]}),Object(m.jsx)("p",{className:"itemCartPrice",children:e[2]}),Object(m.jsx)("button",{className:"delete",onClick:N,children:"X"})]})})):Object(m.jsx)("h2",{className:"empty",children:"Cart is empty"})}),Object(m.jsxs)("h3",{className:"total",children:["Total: ",0===b?0:b," "]}),Object(m.jsx)("button",{className:"pay",onClick:g,children:"Pay"})]})},y=c(2);c(17);var I=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u,{}),Object(m.jsxs)(y.c,{children:[Object(m.jsx)(y.a,{exact:!0,path:"/",element:Object(m.jsx)(d,{})}),Object(m.jsx)(y.a,{path:"/cart",element:Object(m.jsx)(v,{})})]})]})};n.a.render(Object(m.jsx)(r.a,{base:"/",children:Object(m.jsx)(I,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.8fc15935.chunk.js.map